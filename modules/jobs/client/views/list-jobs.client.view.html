<section>
  <div class="page-header">
    <h1>Jobs</h1>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-body">
          <button class="btn btn-primary pull-right" ui-sref="jobs.create">create job</button>
          <br><br>
          <div class="dataTable_wrapper">
            <table width="100%" class="table table-bordered table-hover">
              <thead>
                <tr>
                  <th>
                    <a href="#" ng-click="vm.sortType = 'name'">
                      Job Name 
                      <span ng-show="vm.sortType == 'name'; vm.sortReverse = !vm.sortReverse"" class="fa fa-caret-down"></span>
                    </a>
                  </th>
                  <th>
                    <a href="#" ng-click="vm.sortType = 'customer.name'">
                      Customer 
                      <span ng-show="vm.sortType == 'customer.name'; vm.sortReverse = !vm.sortReverse"" class="fa fa-caret-down"></span>
                    </a>
                  </th>
                  <th>
                    <a href="#" ng-click="vm.sortType = 'appointmentDatetime'">
                      Time
                      <span ng-show="vm.sortType == 'appointmentDatetime'; vm.sortReverse = !vm.sortReverse"" class="fa fa-caret-down"></span>
                    </a>
                  </th>
                  <th>
                    <a href="#" ng-click="vm.sortType = 'technician.displayName'">
                      Technician 
                      <span ng-show="vm.sortType == 'technician.displayName'; vm.sortReverse = !vm.sortReverse"" class="fa fa-caret-down"></span>
                    </a>
                  </th>
                  <th>
                    <a href="#" ng-click="vm.sortType = 'completed'">
                      Done
                      <span ng-show="vm.sortType == 'completed'; vm.sortReverse = !vm.sortReverse"" class="fa fa-caret-down"></span>
                    </a>
                  </th> 
                </tr>
              </thead>
              <tbody ng-repeat="job in vm.jobs | orderBy:vm.sortType:vm.sortReverse" ui-sref="jobs.view({jobId: job._id})">
                  <td> {{job.name}} </td>
                  <td> {{job.customer.name}} </td>
                  <td> {{job.appointmentDatetime | date:'MM/dd/yyyy  h:mma'}}</td>
                  <td> {{job.technician.displayName}} </td>
                  <td> <span ng-if="job.completed" class="glyphicon glyphicon-ok"></span> <span ng-if="!job.completed" class="glyphicon glyphicon-remove"></span></td>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
<div>

</section>


